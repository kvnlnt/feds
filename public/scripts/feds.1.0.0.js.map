{"version":3,"file":"main.js","sources":["src/scripts/version.js","src/scripts/modules/bus.js","src/scripts/components/base.js","src/scripts/components/accordion/accordion.js","src/scripts/feds.js","src/scripts/main.js"],"sourcesContent":["export default \"1.0.0.668\";","export default class Bus {\r\n  on(event, listener) {\r\n    this._eventCollection = this._eventCollection || {};\r\n    this._eventCollection[event] = this._eventCollection[event] || [];\r\n    this._eventCollection[event].push(listener);\r\n    return this;\r\n  }\r\n\r\n  once(event, listener) {\r\n    const self = this;\r\n    function fn() {\r\n      self.off(event, fn);\r\n      listener.apply(this, arguments);\r\n    }\r\n    fn.listener = listener;\r\n    this.on(event, fn);\r\n    return this;\r\n  }\r\n\r\n  off(event, listener) {\r\n    let listeners;\r\n    if (!this._eventCollection || !(listeners = this._eventCollection[event]))\r\n      return this;\r\n    listeners.forEach((fn, i) => {\r\n      if (fn === listener || fn.listener === listener) listeners.splice(i, 1);\r\n    });\r\n    if (listeners.length === 0) delete this._eventCollection[event];\r\n    return this;\r\n  }\r\n\r\n  trigger(event, ...args) {\r\n    let listeners;\r\n    if (!this._eventCollection || !(listeners = this._eventCollection[event])) {\r\n      return this;\r\n    }\r\n    listeners = listeners.slice(0);\r\n    listeners.forEach(fn => fn.apply(this, args));\r\n    return this;\r\n  }\r\n}\r\n","export default class Component {\r\n  constructor(id = \"\", name = \"\", styles = null) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.el = document.querySelector(`#${id}`);\r\n  }\r\n}\r\n","import Base from \"../base\";\n\nexport class Tab {\n  constructor(el, parent, expanded = false) {\n    this.id = el.dataset.tab;\n    this.el = el;\n    this.parent = parent;\n    this.label = this.el.querySelector(\"label\");\n    this.content = this.el.querySelector(\"div\");\n    this.caret = this.el.querySelector(\"i\");\n    this.expanded = expanded;\n    // events\n    this.label.addEventListener(\"click\", this.toggle.bind(this));\n    if (this.expanded) this.toggle();\n  }\n  toggle() {\n    this.expanded = !this.expanded;\n    this.content.classList.toggle(\"hidden\");\n    this.caret.classList.toggle(\"rotate-30\");\n  }\n}\n\nexport class Accordion extends Base {\n  constructor(id = \"\", name = \"accordion\") {\n    super(id, name);\n    this.tabs = this.initTabs();\n    return this;\n  }\n  initTabs() {\n    const preExpandedTabs = feds.params.get(\"tabs\")\n      ? feds.params\n          .get(\"tabs\")\n          .split(\",\")\n          .map(i => i.trim())\n      : [];\n    return [...this.el.children].map(\n      i => new Tab(i, this, preExpandedTabs.indexOf(i.dataset.tab) > -1)\n    );\n  }\n}\n","// modules\nimport Version from \"./version\";\nimport Bus from \"./modules/bus.js\";\n\n// components\nimport { Accordion } from \"./components/accordion/accordion\";\n\nconst modules = {};\nconst components = {};\ncomponents.Accordion = Accordion;\n\nexport default class Feds {\n  constructor() {\n    this.debug = window.location.hash === \"#debug\";\n    if (this.debug) console.time(\"feds\");\n    this.version = Version;\n    this.components = {};\n    this.lib = {};\n    this.lib.modules = modules;\n    this.lib.components = components;\n    this.bus = new Bus();\n    this.params = new URL(window.location.href).searchParams;\n  }\n  init() {\n    this.initComponents();\n    if (this.debug) console.timeEnd(\"feds\");\n  }\n  initComponents() {\n    [].slice\n      .call(document.querySelectorAll(\"[data-component]\"))\n      .forEach(this.initComponent.bind(this));\n    return this;\n  }\n  initComponent(c) {\n    const component = this.lib.components[c.dataset.component];\n    if (!component) return this;\n    const instance = new component(c.id);\n    this.components[c.id] = instance;\n    return this;\n  }\n  get(componentId) {\n    return this.components[componentId];\n  }\n}\n","// meta\nimport Feds from \"./feds\";\n\nconst feds = new Feds();\nwindow.feds = feds;\ndocument.addEventListener(\"DOMContentLoaded\", feds.init.bind(feds));\n"],"names":["Bus","event","listener","_eventCollection","push","self","fn","off","apply","arguments","on","listeners","forEach","i","splice","length","args","slice","Component","id","name","el","document","querySelector","Tab","parent","expanded","dataset","tab","label","content","caret","addEventListener","toggle","bind","classList","Accordion","tabs","initTabs","preExpandedTabs","feds","params","get","split","map","trim","children","indexOf","Base","modules","components","Feds","debug","window","location","hash","console","time","version","Version","lib","bus","URL","href","searchParams","initComponents","timeEnd","call","querySelectorAll","initComponent","c","component","instance","componentId","init"],"mappings":"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"}